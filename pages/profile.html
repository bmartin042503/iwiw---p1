<!DOCTYPE html>
<html lang="hu">
    <head>
        <title>Kezdőlap | iWiW</title>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" type="text/css" href="../css/profile.css"/>
        <link rel="stylesheet" type="text/css" href="../css/header.css"/>
        <link rel="stylesheet" type="text/css" href="../css/print/profile.css"/>
        <link rel="icon" type="image/x-icon" href="../img/iwiw-logo-16x16.png"/>
        <script src="../js/user.js"></script>
        <script>
            var title = decodeURIComponent(window.location.search.replace(/^.*?\=/,''));
            document.title = title + " | iWiW";

            document.addEventListener('DOMContentLoaded', () => {
                let selectedUser;
                for(let i = 0; i < users.length; i++) {
                    if(users[i].nev === title) {
                        selectedUser = users[i];
                        break;
                    }
                }

                const fullNameSpan = document.querySelector(".user-fullname");
                fullNameSpan.textContent = selectedUser.nev;

                const profileImg = document.querySelector(".user-img");
                profileImg.setAttribute("src", selectedUser.profilkepUrl);

                const introParagraph = document.querySelector(".user-introduction");
                introParagraph.textContent = selectedUser.bemutatkozas;

                const birthDateSpan = document.querySelector(".user-birthdate");
                let splittedDate = selectedUser.szulDatum.split('/');
                const currentYear = new Date().getFullYear();
                let age = currentYear - parseInt(splittedDate[0]);
                birthDateSpan.textContent = birthDateSpan.textContent + " " + splittedDate[0] + ". " + splittedDate[1] + ". " + splittedDate[2] + "." + " (" + age + " éves)";

                const registeredSpan = document.querySelector(".user-registered");
                registeredSpan.textContent = registeredSpan.textContent + " " + selectedUser.regisztracioIdeje;

                const locationSpan = document.querySelector(".user-location");
                locationSpan.textContent = locationSpan.textContent + " " + selectedUser.lakhely;

                const workplaceSpan = document.querySelector(".user-workplace");
                workplaceSpan.textContent = workplaceSpan.textContent + " " + selectedUser.munkahely;

                const emailSpan = document.querySelector(".user-email");
                emailSpan.textContent = emailSpan.textContent + " " + selectedUser.email;

                const friendsSpan = document.querySelector(".user-friends");
                friendsSpan.textContent = "Ismerősök (" + selectedUser.ismerosokSzama + ")";
                
                const heightSpan = document.querySelector(".user-height");
                let text_h;
                if(selectedUser.magassag == -1) text_h = " Nem adta meg";
                else text_h = " " + selectedUser.magassag;
                heightSpan.textContent = heightSpan.textContent + text_h + " cm";

                const weightSpan = document.querySelector(".user-weight");
                let text_w;
                if(selectedUser.suly == -1) text_w = " Nem adta meg";
                else text_w = " " + selectedUser.suly;
                weightSpan.textContent = weightSpan.textContent + text_w + " kg";

                const plusSpan = document.querySelector(".user-plus");
                let text_p;
                if(selectedUser.iwiwplus == true) {
                    text_p = "Igen";
                    const iwiwPlusLogo = document.querySelector(".iwiw-plus-logo");
                    iwiwPlusLogo.style.display = "inline-block";
                    const iwiwPlusLogoLabel = document.querySelector(".iwiw-plus-label");
                    iwiwPlusLogoLabel.style.display = "inline-block";
                } else {
                    text_p = "Nem";
                    const iwiwPlusLogo = document.querySelector(".iwiw-plus-logo");
                    iwiwPlusLogo.style.display = "none";
                    const iwiwPlusLogoLabel = document.querySelector(".iwiw-plus-label");
                    iwiwPlusLogoLabel.style.display = "none";
                }
                plusSpan.textContent = plusSpan.textContent + " " + text_p;
            });
        </script>
    </head>
    <body>
        <header>
            <div class="logo">
                <a href="../pages/home.html"><img src="../img/iwiw-logo-512x512.png" alt="iwiw logó"></a>
            </div>
            <div class="search-container">
                <input type="text" name="searchbar" size="30" placeholder="Keresés az iWiW-en.."/>
                <img src="../img/icons/search-icon.png" alt="kereső ikon"/>
            </div>
            <nav class="main-menu">
                <ul>
                    <li><img class="icon menu" src="../img/icons/event-icon.png" alt="események menüpont"></li>
                    <li><img class="icon menu" src="../img/icons/friends-icon.png" alt="ismerősök menüpont"></li>
                    <li><img class="icon menu" src="../img/icons/groups-icon.png" alt="csoportok menüpont"></li>
                    <li><img class="icon menu" src="../img/icons/forum-icon.png" alt="fórum menüpont"></li>
                    <li><img class="icon menu" src="../img/icons/apps-icon.png" alt="alkalmazások menüpont"></li>
                    <li><img class="icon menu" src="../img/icons/market-icon.png" alt="apró menüpont"></li>
                </ul>
            </nav>
            <nav class="side-menu">
                <ul>
                    <li><img class="icon profile" src="../img/icons/added-icon.png" alt="új ismerősök menüpont"></li>
                    <li><img class="icon profile" src="../img/icons/message-icon.png" alt="üzenetek menüpont"></li>
                    <li><img class="icon profile pic" src="../img/static/profile-pic.jpg" alt="profilkép menüpont"></li>
                </ul>
            </nav>
        </header>
        <main>
            <div>
                <a href="home.html"><img src="../img/iwiw-logo.png" class="iwiw-logo" alt="iwiw logó"></a>
            </div>
            <div class="profile-info">
                <img src="../img/static/default-profile.png" class="user-img" alt="profilkép">
                <div class="profile-details">
                    <div>
                        <span class="user-fullname">Vezetéknév Keresztnév</span>
                        <img src="../img/iwiw-plus-logo.png" class="iwiw-plus-logo" title="iWiW+ Tagság" alt="iWiW Plus Tagság">
                        <span class="iwiw-plus-label">tag</span>
                    </div>
                    <p class="user-introduction">Bemutatkozás</p>
                    <span class="user-birthdate">Születési idő:</span>
                </div>
            </div>
            <div class="profile-interactions">
                <button type="submit" class="add-button">Jelölés</button>
                <button type="submit" class="message-button">Üzenet küldése</button>
            </div>
            <hr id="profile-separator">
            <span class="other-information-label">Egyéb információ</span>
            <div class="other-information">
                <span class="user-location">Lakhely: </span>
                <span class="user-workplace">Munkahely:</span>
                <span class="user-email">E-mail cím:</span>
                <span class="user-registered">Regisztráció ideje:</span>
                <span class="user-height">Magasság:</span>
                <span class="user-weight">Súly:</span>
                <span class="user-plus">iWiW Plus:</span>
            </div>
            <span class="user-friends">Ismerősök (-)</span>
        </main>
    </body>
</html>